<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>✍️ 성훈's 방명록</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" type="image/x-icon" href="/favicon-32x32.ico">
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center p-6">
  <div class="w-full max-w-md bg-white rounded-xl shadow-md p-6">
    <h1 class="text-2xl font-bold mb-4 text-gray-800">✍️ 성훈의 방명록</h1>

    <form action="/add" method="POST" class="flex gap-2 mb-6">
      <input
        type="text"
        name="memo"
        placeholder="당신의 한마디를 남겨보세요"
        required
        class="flex-grow border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"
      />
      <button
        type="submit"
        class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
      >
        남기기
      </button>
    </form>

    <ul class="space-y-4">
      <% memoList.forEach((memo, index) => { %>
        <li class="border border-gray-200 rounded p-3 bg-gray-50 shadow-sm">
          <div class="flex justify-between items-start">
            <div>
              <p class="text-gray-800 font-medium"><%= memo.text %></p>
              <p class="text-xs text-gray-500 mt-1"><%= new Date(memo.createdAt).toLocaleString() %></p>
            </div>
            <form action="/delete" method="POST">
              <input type="hidden" name="index" value="<%= index %>">
              <button
                type="submit"
                class="text-red-500 hover:text-red-700 text-sm"
              >
                삭제
              </button>
            </form>
          </div>
        </li>
      <% }) %>
    </ul>
  </div>
</body>
</html>